"use strict";(()=>{var fa=Object.create;var Xt=Object.defineProperty;var pa=Object.getOwnPropertyDescriptor;var ma=Object.getOwnPropertyNames;var ga=Object.getPrototypeOf,ya=Object.prototype.hasOwnProperty;var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ha=(e,t)=>{for(var r in t)Xt(e,r,{get:t[r],enumerable:!0})},va=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ma(t))!ya.call(e,o)&&o!==r&&Xt(e,o,{get:()=>t[o],enumerable:!(n=pa(t,o))||n.enumerable});return e};var ge=(e,t,r)=>(r=e!=null?fa(ga(e)):{},va(t||!e||!e.__esModule?Xt(r,"default",{value:e,enumerable:!0}):r,e));var lt=A((uc,ct)=>{var ar=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(i,s){if(!n[i]){n[i]={};for(var u=0;u<i.length;u++)n[i][i.charAt(u)]=u}return n[i][s]}var a={compressToBase64:function(i){if(i==null)return"";var s=a._compress(i,6,function(u){return t.charAt(u)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(i){return i==null?"":i==""?null:a._decompress(i.length,32,function(s){return o(t,i.charAt(s))})},compressToUTF16:function(i){return i==null?"":a._compress(i,15,function(s){return e(s+32)})+" "},decompressFromUTF16:function(i){return i==null?"":i==""?null:a._decompress(i.length,16384,function(s){return i.charCodeAt(s)-32})},compressToUint8Array:function(i){for(var s=a.compress(i),u=new Uint8Array(s.length*2),f=0,p=s.length;f<p;f++){var m=s.charCodeAt(f);u[f*2]=m>>>8,u[f*2+1]=m%256}return u},decompressFromUint8Array:function(i){if(i==null)return a.decompress(i);for(var s=new Array(i.length/2),u=0,f=s.length;u<f;u++)s[u]=i[u*2]*256+i[u*2+1];var p=[];return s.forEach(function(m){p.push(e(m))}),a.decompress(p.join(""))},compressToEncodedURIComponent:function(i){return i==null?"":a._compress(i,6,function(s){return r.charAt(s)})},decompressFromEncodedURIComponent:function(i){return i==null?"":i==""?null:(i=i.replace(/ /g,"+"),a._decompress(i.length,32,function(s){return o(r,i.charAt(s))}))},compress:function(i){return a._compress(i,16,function(s){return e(s)})},_compress:function(i,s,u){if(i==null)return"";var f,p,m={},b={},R="",L="",P="",N=2,W=3,I=2,k=[],E=0,_=0,d;for(d=0;d<i.length;d+=1)if(R=i.charAt(d),Object.prototype.hasOwnProperty.call(m,R)||(m[R]=W++,b[R]=!0),L=P+R,Object.prototype.hasOwnProperty.call(m,L))P=L;else{if(Object.prototype.hasOwnProperty.call(b,P)){if(P.charCodeAt(0)<256){for(f=0;f<I;f++)E=E<<1,_==s-1?(_=0,k.push(u(E)),E=0):_++;for(p=P.charCodeAt(0),f=0;f<8;f++)E=E<<1|p&1,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=p>>1}else{for(p=1,f=0;f<I;f++)E=E<<1|p,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=0;for(p=P.charCodeAt(0),f=0;f<16;f++)E=E<<1|p&1,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=p>>1}N--,N==0&&(N=Math.pow(2,I),I++),delete b[P]}else for(p=m[P],f=0;f<I;f++)E=E<<1|p&1,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=p>>1;N--,N==0&&(N=Math.pow(2,I),I++),m[L]=W++,P=String(R)}if(P!==""){if(Object.prototype.hasOwnProperty.call(b,P)){if(P.charCodeAt(0)<256){for(f=0;f<I;f++)E=E<<1,_==s-1?(_=0,k.push(u(E)),E=0):_++;for(p=P.charCodeAt(0),f=0;f<8;f++)E=E<<1|p&1,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=p>>1}else{for(p=1,f=0;f<I;f++)E=E<<1|p,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=0;for(p=P.charCodeAt(0),f=0;f<16;f++)E=E<<1|p&1,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=p>>1}N--,N==0&&(N=Math.pow(2,I),I++),delete b[P]}else for(p=m[P],f=0;f<I;f++)E=E<<1|p&1,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=p>>1;N--,N==0&&(N=Math.pow(2,I),I++)}for(p=2,f=0;f<I;f++)E=E<<1|p&1,_==s-1?(_=0,k.push(u(E)),E=0):_++,p=p>>1;for(;;)if(E=E<<1,_==s-1){k.push(u(E));break}else _++;return k.join("")},decompress:function(i){return i==null?"":i==""?null:a._decompress(i.length,32768,function(s){return i.charCodeAt(s)})},_decompress:function(i,s,u){var f=[],p,m=4,b=4,R=3,L="",P=[],N,W,I,k,E,_,d,c={val:u(0),position:s,index:1};for(N=0;N<3;N+=1)f[N]=N;for(I=0,E=Math.pow(2,2),_=1;_!=E;)k=c.val&c.position,c.position>>=1,c.position==0&&(c.position=s,c.val=u(c.index++)),I|=(k>0?1:0)*_,_<<=1;switch(p=I){case 0:for(I=0,E=Math.pow(2,8),_=1;_!=E;)k=c.val&c.position,c.position>>=1,c.position==0&&(c.position=s,c.val=u(c.index++)),I|=(k>0?1:0)*_,_<<=1;d=e(I);break;case 1:for(I=0,E=Math.pow(2,16),_=1;_!=E;)k=c.val&c.position,c.position>>=1,c.position==0&&(c.position=s,c.val=u(c.index++)),I|=(k>0?1:0)*_,_<<=1;d=e(I);break;case 2:return""}for(f[3]=d,W=d,P.push(d);;){if(c.index>i)return"";for(I=0,E=Math.pow(2,R),_=1;_!=E;)k=c.val&c.position,c.position>>=1,c.position==0&&(c.position=s,c.val=u(c.index++)),I|=(k>0?1:0)*_,_<<=1;switch(d=I){case 0:for(I=0,E=Math.pow(2,8),_=1;_!=E;)k=c.val&c.position,c.position>>=1,c.position==0&&(c.position=s,c.val=u(c.index++)),I|=(k>0?1:0)*_,_<<=1;f[b++]=e(I),d=b-1,m--;break;case 1:for(I=0,E=Math.pow(2,16),_=1;_!=E;)k=c.val&c.position,c.position>>=1,c.position==0&&(c.position=s,c.val=u(c.index++)),I|=(k>0?1:0)*_,_<<=1;f[b++]=e(I),d=b-1,m--;break;case 2:return P.join("")}if(m==0&&(m=Math.pow(2,R),R++),f[d])L=f[d];else if(d===b)L=W+W.charAt(0);else return null;P.push(L),f[b++]=W+L.charAt(0),m--,W=L,m==0&&(m=Math.pow(2,R),R++)}}};return a}();typeof define=="function"&&define.amd?define(function(){return ar}):typeof ct<"u"&&ct!=null?ct.exports=ar:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return ar})});var ut=A((yc,nn)=>{"use strict";nn.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,o,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=n;o--!==0;){var i=a[o];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}});var cn=A(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0})});var ir=A(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.Failcode=void 0;dt.Failcode={TYPE_INCORRECT:"TYPE_INCORRECT",VALUE_INCORRECT:"VALUE_INCORRECT",KEY_INCORRECT:"KEY_INCORRECT",CONTENT_INCORRECT:"CONTENT_INCORRECT",ARGUMENT_INCORRECT:"ARGUMENT_INCORRECT",RETURN_INCORRECT:"RETURN_INCORRECT",CONSTRAINT_FAILED:"CONSTRAINT_FAILED",PROPERTY_MISSING:"PROPERTY_MISSING",PROPERTY_PRESENT:"PROPERTY_PRESENT",NOTHING_EXPECTED:"NOTHING_EXPECTED"}});var Me=A(Le=>{"use strict";var ja=Le&&Le.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Le,"__esModule",{value:!0});Le.ValidationError=void 0;var za=function(e){ja(t,e);function t(r){var n=e.call(this,r.message)||this;return n.name="ValidationError",n.code=r.code,r.details!==void 0&&(n.details=r.details),Object.setPrototypeOf(n,t.prototype),n}return t}(Error);Le.ValidationError=za});var We=A(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});var ft=function(e){return function(t){switch(t.tag){case"literal":return'"'.concat(String(t.value),'"');case"string":return"string";case"brand":return t.brand;case"constraint":return t.name||ft(e)(t.underlying);case"union":return t.alternatives.map(ft(e)).join(" | ");case"intersect":return t.intersectees.map(ft(e)).join(" & ");default:break}return"`${".concat(ne(!1,e)(t),"}`")}},pt=function(e){return function(t){switch(t.tag){case"literal":return String(t.value);case"brand":return"${".concat(t.brand,"}");case"constraint":return t.name?"${".concat(t.name,"}"):pt(e)(t.underlying);case"union":if(t.alternatives.length===1){var r=t.alternatives[0];return pt(e)(r.reflect)}break;case"intersect":if(t.intersectees.length===1){var r=t.intersectees[0];return pt(e)(r.reflect)}break;default:break}return"${".concat(ne(!1,e)(t),"}")}},ne=function(e,t){return function(r){var n=function(f){return e?"(".concat(f,")"):f};if(t.has(r))return n("CIRCULAR ".concat(r.tag));t.add(r);try{switch(r.tag){case"unknown":case"never":case"void":case"boolean":case"number":case"bigint":case"string":case"symbol":case"function":return r.tag;case"literal":{var o=r.value;return typeof o=="string"?'"'.concat(o,'"'):String(o)}case"template":{if(r.strings.length===0)return'""';if(r.strings.length===1)return'"'.concat(r.strings[0],'"');if(r.strings.length===2&&r.strings.every(function(f){return f===""})){var a=r.runtypes[0];return ft(t)(a.reflect)}var i=!1,s=r.strings.reduce(function(f,p,m){var b=f+p,R=r.runtypes[m];if(R){var L=pt(t)(R.reflect);return!i&&L.startsWith("$")&&(i=!0),b+L}else return b},"");return i?"`".concat(s,"`"):'"'.concat(s,'"')}case"array":return"".concat(ln(r)).concat(ne(!0,t)(r.element),"[]");case"dictionary":return"{ [_: ".concat(r.key,"]: ").concat(ne(!1,t)(r.value)," }");case"record":{var u=Object.keys(r.fields);return u.length?"{ ".concat(u.map(function(f){return"".concat(ln(r)).concat(f).concat(qa(r,f),": ").concat(r.fields[f].tag==="optional"?ne(!1,t)(r.fields[f].underlying):ne(!1,t)(r.fields[f]),";")}).join(" ")," }"):"{}"}case"tuple":return"[".concat(r.components.map(ne(!1,t)).join(", "),"]");case"union":return n("".concat(r.alternatives.map(ne(!0,t)).join(" | ")));case"intersect":return n("".concat(r.intersectees.map(ne(!0,t)).join(" & ")));case"optional":return ne(e,t)(r.underlying)+" | undefined";case"constraint":return r.name||ne(e,t)(r.underlying);case"instanceof":return r.ctor.name;case"brand":return ne(e,t)(r.entity)}}finally{t.delete(r)}throw Error("impossible")}};sr.default=ne(!1,new Set);function qa(e,t){var r=e.isPartial,n=e.fields;return r||t!==void 0&&n[t].tag==="optional"?"?":""}function ln(e){var t=e.isReadonly;return t?"readonly ":""}});var K=A(D=>{"use strict";var cr=D&&D.__assign||function(){return cr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cr.apply(this,arguments)};Object.defineProperty(D,"__esModule",{value:!0});D.FAILURE=D.SUCCESS=D.enumerableKeysOf=D.typeOf=D.hasKey=void 0;var ue=ir(),xe=We();function Da(e,t){return typeof t=="object"&&t!==null&&e in t}D.hasKey=Da;var Ba=function(e){var t,r,n;return typeof e=="object"?e===null?"null":Array.isArray(e)?"array":((t=e.constructor)===null||t===void 0?void 0:t.name)==="Object"?"object":(n=(r=e.constructor)===null||r===void 0?void 0:r.name)!==null&&n!==void 0?n:typeof e:typeof e};D.typeOf=Ba;var Ha=function(e){return typeof e=="object"&&e!==null?Reflect.ownKeys(e).filter(function(t){var r,n;return(n=(r=e.propertyIsEnumerable)===null||r===void 0?void 0:r.call(e,t))!==null&&n!==void 0?n:!0}):[]};D.enumerableKeysOf=Ha;function Va(e){return{success:!0,value:e}}D.SUCCESS=Va;D.FAILURE=Object.assign(function(e,t,r){return cr({success:!1,code:e,message:t},r?{details:r}:{})},{TYPE_INCORRECT:function(e,t){var r="Expected ".concat(e.tag==="template"?"string ".concat((0,xe.default)(e)):(0,xe.default)(e),", but was ").concat((0,D.typeOf)(t));return(0,D.FAILURE)(ue.Failcode.TYPE_INCORRECT,r)},VALUE_INCORRECT:function(e,t,r){return(0,D.FAILURE)(ue.Failcode.VALUE_INCORRECT,"Expected ".concat(e," ").concat(String(t),", but was ").concat(String(r)))},KEY_INCORRECT:function(e,t,r){return(0,D.FAILURE)(ue.Failcode.KEY_INCORRECT,"Expected ".concat((0,xe.default)(e)," key to be ").concat((0,xe.default)(t),", but was ").concat((0,D.typeOf)(r)))},CONTENT_INCORRECT:function(e,t){var r=JSON.stringify(t,null,2).replace(/^ *null,\n/gm,""),n=`Validation failed:
`.concat(r,`.
Object should match `).concat((0,xe.default)(e));return(0,D.FAILURE)(ue.Failcode.CONTENT_INCORRECT,n,t)},ARGUMENT_INCORRECT:function(e){return(0,D.FAILURE)(ue.Failcode.ARGUMENT_INCORRECT,e)},RETURN_INCORRECT:function(e){return(0,D.FAILURE)(ue.Failcode.RETURN_INCORRECT,e)},CONSTRAINT_FAILED:function(e,t){var r=t?": ".concat(t):"";return(0,D.FAILURE)(ue.Failcode.CONSTRAINT_FAILED,"Failed constraint check for ".concat((0,xe.default)(e)).concat(r))},PROPERTY_MISSING:function(e){var t="Expected ".concat((0,xe.default)(e),", but was missing");return(0,D.FAILURE)(ue.Failcode.PROPERTY_MISSING,t)},PROPERTY_PRESENT:function(e){var t="Expected nothing, but was ".concat((0,D.typeOf)(e));return(0,D.FAILURE)(ue.Failcode.PROPERTY_PRESENT,t)},NOTHING_EXPECTED:function(e){var t="Expected nothing, but was ".concat((0,D.typeOf)(e));return(0,D.FAILURE)(ue.Failcode.NOTHING_EXPECTED,t)}})});var un=A(ye=>{"use strict";var Ka=ye&&ye.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a},Ya=ye&&ye.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(ye,"__esModule",{value:!0});ye.Contract=void 0;var $a=Me(),Ga=K();function Wa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length-1,n=e.slice(0,r),o=e[r];return{enforce:function(a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(i.length<n.length){var u="Expected ".concat(n.length," arguments but only received ").concat(i.length),f=Ga.FAILURE.ARGUMENT_INCORRECT(u);throw new $a.ValidationError(f)}for(var p=0;p<n.length;p++)n[p].check(i[p]);return o.check(a.apply(void 0,Ya([],Ka(i),!1)))}}}}ye.Contract=Wa});var pn=A(he=>{"use strict";var Xa=he&&he.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a},Ja=he&&he.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(he,"__esModule",{value:!0});he.AsyncContract=void 0;var dn=Me(),fn=K();function Za(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length-1,n=e.slice(0,r),o=e[r];return{enforce:function(a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(i.length<n.length){var u="Expected ".concat(n.length," arguments but only received ").concat(i.length),f=fn.FAILURE.ARGUMENT_INCORRECT(u);throw new dn.ValidationError(f)}for(var p=0;p<n.length;p++)n[p].check(i[p]);var m=a.apply(void 0,Ja([],Xa(i),!1));if(!(m instanceof Promise)){var u="Expected function to return a promise, but instead got ".concat(m),f=fn.FAILURE.RETURN_INCORRECT(u);throw new dn.ValidationError(f)}return m.then(o.check)}}}}he.AsyncContract=Za});var mn=A(de=>{"use strict";var Qa=de&&de.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ei=de&&de.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a};Object.defineProperty(de,"__esModule",{value:!0});de.when=de.match=void 0;function ti(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){var n,o;try{for(var a=Qa(e),i=a.next();!i.done;i=a.next()){var s=ei(i.value,2),u=s[0],f=s[1];if(u.guard(r))return f(r)}}catch(p){n={error:p}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}throw new Error("No alternatives were matched")}}de.match=ti;function ri(e,t){return[e,t]}de.when=ri});var Y=A(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.innerValidate=be.create=be.isRuntype=void 0;var ve=mt(),ni=We(),oi=Me(),gn=K(),yn=Symbol(),ai=function(e){return(0,gn.hasKey)(yn,e)};be.isRuntype=ai;function ii(e,t){return t[yn]=!0,t.check=r,t.assert=r,t._innerValidate=function(m,b){return b.has(m,t)?(0,gn.SUCCESS)(m):e(m,b)},t.validate=function(m){return t._innerValidate(m,ci())},t.guard=n,t.Or=o,t.And=a,t.optional=i,t.nullable=s,t.withConstraint=u,t.withGuard=f,t.withBrand=p,t.reflect=t,t.toString=function(){return"Runtype<".concat((0,ni.default)(t),">")},t;function r(m){var b=t.validate(m);if(b.success)return b.value;throw new oi.ValidationError(b)}function n(m){return t.validate(m).success}function o(m){return(0,ve.Union)(t,m)}function a(m){return(0,ve.Intersect)(t,m)}function i(){return(0,ve.Optional)(t)}function s(){return(0,ve.Union)(t,ve.Null)}function u(m,b){return(0,ve.Constraint)(t,m,b)}function f(m,b){return(0,ve.Constraint)(t,m,b)}function p(m){return(0,ve.Brand)(m,t)}}be.create=ii;function si(e,t,r){return e._innerValidate(t,r)}be.innerValidate=si;function ci(){var e=new WeakMap,t=function(n,o){if(!(n===null||typeof n!="object")){var a=e.get(n);e.set(n,a?a.set(o,!0):new WeakMap().set(o,!0))}},r=function(n,o){var a=e.get(n),i=a&&a.get(o)||!1;return t(n,o),i};return{has:r}}});var yt=A(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.Unknown=void 0;var li=Y(),ui=K(),di={tag:"unknown"};gt.Unknown=(0,li.create)(function(e){return(0,ui.SUCCESS)(e)},di)});var hn=A(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.Never=void 0;var fi=Y(),pi=K(),mi={tag:"never"};ht.Never=(0,fi.create)(pi.FAILURE.NOTHING_EXPECTED,mi)});var vn=A(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.Void=void 0;var gi=yt();vt.Void=gi.Unknown});var lr=A(Ae=>{"use strict";var bt=Ae&&Ae.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Union=void 0;var _t=Y(),Xe=K();function yi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return function(i){for(var s=0;s<e.length;s++)if(e[s].guard(i))return o[s](i)}},n={tag:"union",alternatives:e,match:r};return(0,_t.create)(function(o,a){var i,s,u,f,p,m,b,R;if(typeof o!="object"||o===null){try{for(var L=bt(e),P=L.next();!P.done;P=L.next()){var N=P.value;if((0,_t.innerValidate)(N,o,a).success)return(0,Xe.SUCCESS)(o)}}catch(x){i={error:x}}finally{try{P&&!P.done&&(s=L.return)&&s.call(L)}finally{if(i)throw i.error}}return Xe.FAILURE.TYPE_INCORRECT(n,o)}var W={};try{for(var I=bt(e),k=I.next();!k.done;k=I.next()){var N=k.value;if(N.reflect.tag==="record"){var E=function(g){var v=N.reflect.fields[g];v.tag==="literal"&&(W[g]?W[g].every(function(w){return w!==v.value})&&W[g].push(v.value):W[g]=[v.value])};for(var _ in N.reflect.fields)E(_)}}}catch(x){u={error:x}}finally{try{k&&!k.done&&(f=I.return)&&f.call(I)}finally{if(u)throw u.error}}for(var _ in W)if(W[_].length===e.length)try{for(var d=(p=void 0,bt(e)),c=d.next();!c.done;c=d.next()){var N=c.value;if(N.reflect.tag==="record"){var y=N.reflect.fields[_];if(y.tag==="literal"&&(0,Xe.hasKey)(_,o)&&o[_]===y.value)return(0,_t.innerValidate)(N,o,a)}}}catch(g){p={error:g}}finally{try{c&&!c.done&&(m=d.return)&&m.call(d)}finally{if(p)throw p.error}}try{for(var C=bt(e),h=C.next();!h.done;h=C.next()){var S=h.value;if((0,_t.innerValidate)(S,o,a).success)return(0,Xe.SUCCESS)(o)}}catch(x){b={error:x}}finally{try{h&&!h.done&&(R=C.return)&&R.call(C)}finally{if(b)throw b.error}}return Xe.FAILURE.TYPE_INCORRECT(n,o)},n)}Ae.Union=yi});var fr=A(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Nullish=ee.Null=ee.Undefined=ee.Literal=ee.literal=void 0;var hi=Y(),bn=K(),vi=lr();function ur(e){return Array.isArray(e)?String(e.map(String)):typeof e=="bigint"?String(e)+"n":String(e)}ee.literal=ur;function dr(e){var t={tag:"literal",value:e};return(0,hi.create)(function(r){return r===e?(0,bn.SUCCESS)(r):bn.FAILURE.VALUE_INCORRECT("literal","`".concat(ur(e),"`"),"`".concat(ur(r),"`"))},t)}ee.Literal=dr;ee.Undefined=dr(void 0);ee.Null=dr(null);ee.Nullish=(0,vi.Union)(ee.Null,ee.Undefined)});var Cn=A(fe=>{"use strict";var _e=fe&&fe.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a},pr=fe&&fe.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},_n=fe&&fe.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(fe,"__esModule",{value:!0});fe.Template=void 0;var Et=Y(),En=We(),me=K(),Sn=fr(),mr=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},bi=function(e){if(0<e.length&&Array.isArray(e[0])){var t=_e(e),r=t[0],n=t.slice(1);return[Array.from(r),n]}else{var o=e,r=o.reduce(function(s,u){return(0,Et.isRuntype)(u)?s.push(""):s.push(s.pop()+String(u)),s},[""]),n=o.filter(Et.isRuntype);return[r,n]}},_i=function(e,t){for(var r=0;r<t.length;)switch(t[r].reflect.tag){case"literal":{var n=t[r];t.splice(r,1);var o=String(n.value);e.splice(r,2,e[r]+o+e[r+1]);break}case"template":{var a=t[r];t.splice.apply(t,pr([r,1],_e(a.runtypes),!1));var i=a.strings;if(i.length===1)e.splice(r,2,e[r]+i[0]+e[r+1]);else{var s=i[0],u=i.slice(1,-1),f=i[i.length-1];e.splice.apply(e,pr(pr([r,2,e[r]+s],_e(u),!1),[f+e[r+1]],!1))}break}case"union":{var p=t[r];if(p.alternatives.length===1)try{var m=Qe(p);t.splice(r,1);var o=String(m.value);e.splice(r,2,e[r]+o+e[r+1]);break}catch{r++;break}else{r++;break}}case"intersect":{var b=t[r];if(b.intersectees.length===1)try{var R=Qe(b);t.splice(r,1);var o=String(R.value);e.splice(r,2,e[r]+o+e[r+1]);break}catch{r++;break}else{r++;break}}default:r++;break}},Ei=function(e){var t=_e(bi(e),2),r=t[0],n=t[1];return _i(r,n),[r,n]},Qe=function(e){switch(e.reflect.tag){case"literal":return e;case"brand":return Qe(e.reflect.entity);case"union":if(e.reflect.alternatives.length===1)return Qe(e.reflect.alternatives[0]);break;case"intersect":if(e.reflect.intersectees.length===1)return Qe(e.reflect.intersectees[0]);break;default:break}throw void 0},wn=function(e){return e},gr={string:[function(e){return globalThis.String(e)},".*"],number:[function(e){return globalThis.Number(e)},"[+-]?(?:\\d*\\.\\d+|\\d+\\.\\d*|\\d+)(?:[Ee][+-]?\\d+)?","0[Bb][01]+","0[Oo][0-7]+","0[Xx][0-9A-Fa-f]+"],bigint:[function(e){return globalThis.BigInt(e)},"-?[1-9]d*"],boolean:[function(e){return e!=="false"},"true","false"],null:[function(){return null},"null"],undefined:[function(){},"undefined"]},Je=function(e){switch(e.tag){case"literal":{var t=_e(gr[(0,me.typeOf)(e.value)]||[wn],1),r=t[0];return r}case"brand":return Je(e.entity);case"constraint":return Je(e.underlying);case"union":return e.alternatives.map(Je);case"intersect":return e.intersectees.map(Je);default:var n=_e(gr[e.tag]||[wn],1),o=n[0];return o}},yr=function(e,t){return function(r){var n,o,a,i,s=Je(e);if(Array.isArray(s))switch(e.tag){case"union":try{for(var u=_n(e.alternatives),f=u.next();!f.done;f=u.next()){var p=f.value,m=yr(p.reflect,t)(r);if(m.success)return m}}catch(N){n={error:N}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return me.FAILURE.TYPE_INCORRECT(e,r);case"intersect":try{for(var b=_n(e.intersectees),R=b.next();!R.done;R=b.next()){var L=R.value,m=yr(L.reflect,t)(r);if(!m.success)return m}}catch(N){a={error:N}}finally{try{R&&!R.done&&(i=b.return)&&i.call(b)}finally{if(a)throw a.error}}return(0,me.SUCCESS)(r);default:throw Error("impossible")}else{var P=s,m=(0,Et.innerValidate)(e,P(r),t);return!m.success&&m.code==="VALUE_INCORRECT"&&e.tag==="literal"?me.FAILURE.VALUE_INCORRECT("literal",'"'.concat((0,Sn.literal)(e.value),'"'),'"'.concat(r,'"')):m}}},Ze=function(e){switch(e.tag){case"literal":return mr(String(e.value));case"brand":return Ze(e.entity);case"constraint":return Ze(e.underlying);case"union":return e.alternatives.map(Ze).join("|");case"template":return e.strings.map(mr).reduce(function(n,o,a){var i=n+o,s=e.runtypes[a];return s?i+"(?:".concat(Ze(s.reflect),")"):i},"");default:var t=_e(gr[e.tag]||[void 0,".*"]),r=t.slice(1);return r.join("|")}},wi=function(e){var t=e.strings.map(mr).reduce(function(r,n,o){var a=r+n,i=e.runtypes[o];return i?a+"(".concat(Ze(i.reflect),")"):a},"");return new RegExp("^".concat(t,"$"),"su")};function Si(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=_e(Ei(e),2),n=r[0],o=r[1],a={tag:"template",strings:n,runtypes:o},i=wi(a),s=function(u,f){var p=u.match(i);if(p){for(var m=p.slice(1),b=0;b<o.length;b++){var R=o[b],L=m[b],P=yr(R.reflect,f)(L);if(!P.success)return P}return(0,me.SUCCESS)(u)}else return me.FAILURE.VALUE_INCORRECT("string","".concat((0,En.default)(a)),'"'.concat((0,Sn.literal)(u),'"'))};return(0,Et.create)(function(u,f){if(typeof u!="string")return me.FAILURE.TYPE_INCORRECT(a,u);var p=s(u,f);if(p.success)return(0,me.SUCCESS)(u);var m=me.FAILURE.VALUE_INCORRECT("string","".concat((0,En.default)(a)),'"'.concat(u,'"'));return m.message!==p.message&&(m.message+=" (inner: ".concat(p.message,")")),m},a)}fe.Template=Si});var Rn=A(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.Boolean=void 0;var Ci=Y(),xn=K(),Tn={tag:"boolean"};wt.Boolean=(0,Ci.create)(function(e){return typeof e=="boolean"?(0,xn.SUCCESS)(e):xn.FAILURE.TYPE_INCORRECT(Tn,e)},Tn)});var In=A(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.Number=void 0;var xi=Y(),On=K(),Nn={tag:"number"};St.Number=(0,xi.create)(function(e){return typeof e=="number"?(0,On.SUCCESS)(e):On.FAILURE.TYPE_INCORRECT(Nn,e)},Nn)});var Mn=A(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.BigInt=void 0;var Ti=Y(),Pn=K(),Ln={tag:"bigint"};Ct.BigInt=(0,Ti.create)(function(e){return typeof e=="bigint"?(0,Pn.SUCCESS)(e):Pn.FAILURE.TYPE_INCORRECT(Ln,e)},Ln)});var hr=A(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.String=void 0;var Ri=Y(),An=K(),kn={tag:"string"};xt.String=(0,Ri.create)(function(e){return typeof e=="string"?(0,An.SUCCESS)(e):An.FAILURE.TYPE_INCORRECT(kn,e)},kn)});var zn=A(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.Symbol=void 0;var jn=Y(),et=K(),Oi=function(e){var t={tag:"symbol",key:e};return(0,jn.create)(function(r){if(typeof r!="symbol")return et.FAILURE.TYPE_INCORRECT(t,r);var n=globalThis.Symbol.keyFor(r);return n!==e?et.FAILURE.VALUE_INCORRECT("symbol key",Fn(e),Fn(n)):(0,et.SUCCESS)(r)},t)},Un={tag:"symbol"};Tt.Symbol=(0,jn.create)(function(e){return typeof e=="symbol"?(0,et.SUCCESS)(e):et.FAILURE.TYPE_INCORRECT(Un,e)},Object.assign(Oi,Un));var Fn=function(e){return e===void 0?"undefined":'"'.concat(e,'"')}});var Bn=A(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.Array=void 0;var qn=Y(),tt=K();function Dn(e,t){var r={tag:"array",isReadonly:t,element:e};return Ii((0,qn.create)(function(n,o){if(!Array.isArray(n))return tt.FAILURE.TYPE_INCORRECT(r,n);var a=(0,tt.enumerableKeysOf)(n),i=a.map(function(u){return(0,qn.innerValidate)(e,n[u],o)}),s=a.reduce(function(u,f){var p=i[f];return p.success||(u[f]=p.details||p.message),u},[]);return(0,tt.enumerableKeysOf)(s).length!==0?tt.FAILURE.CONTENT_INCORRECT(r,s):(0,tt.SUCCESS)(n)},r))}function Ni(e){return Dn(e,!1)}Rt.Array=Ni;function Ii(e){return e.asReadonly=t,e;function t(){return Dn(e.element,!0)}}});var Vn=A(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.Tuple=void 0;var Hn=Y(),ke=K();function Pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={tag:"tuple",components:e};return(0,Hn.create)(function(n,o){if(!Array.isArray(n))return ke.FAILURE.TYPE_INCORRECT(r,n);if(n.length!==e.length)return ke.FAILURE.CONSTRAINT_FAILED(r,"Expected length ".concat(e.length,", but was ").concat(n.length));var a=(0,ke.enumerableKeysOf)(n),i=a.map(function(u){return(0,Hn.innerValidate)(e[u],n[u],o)}),s=a.reduce(function(u,f){var p=i[f];return p.success||(u[f]=p.details||p.message),u},[]);return(0,ke.enumerableKeysOf)(s).length!==0?ke.FAILURE.CONTENT_INCORRECT(r,s):(0,ke.SUCCESS)(n)},r)}Ot.Tuple=Pi});var Yn=A(se=>{"use strict";var vr=se&&se.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a},br=se&&se.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(se,"__esModule",{value:!0});se.Partial=se.Record=se.InternalRecord=void 0;var Kn=Y(),te=K();function Ee(e,t,r){var n={tag:"record",isPartial:t,isReadonly:r,fields:e};return Ai((0,Kn.create)(function(o,a){if(o==null)return te.FAILURE.TYPE_INCORRECT(n,o);var i=(0,te.enumerableKeysOf)(e);if(i.length!==0&&typeof o!="object")return te.FAILURE.TYPE_INCORRECT(n,o);var s=br([],vr(new Set(br(br([],vr(i),!1),vr((0,te.enumerableKeysOf)(o)),!1))),!1),u=s.reduce(function(p,m){var b=(0,te.hasKey)(m,e),R=(0,te.hasKey)(m,o);if(b){var L=e[m],P=t||L.reflect.tag==="optional";if(R){var N=o[m];P&&N===void 0?p[m]=(0,te.SUCCESS)(N):p[m]=(0,Kn.innerValidate)(L,N,a)}else P?p[m]=(0,te.SUCCESS)(void 0):p[m]=te.FAILURE.PROPERTY_MISSING(L.reflect)}else if(R){var N=o[m];p[m]=(0,te.SUCCESS)(N)}else throw new Error("impossible");return p},{}),f=s.reduce(function(p,m){var b=u[m];return b.success||(p[m]=b.details||b.message),p},{});return(0,te.enumerableKeysOf)(f).length!==0?te.FAILURE.CONTENT_INCORRECT(n,f):(0,te.SUCCESS)(o)},n))}se.InternalRecord=Ee;function Li(e){return Ee(e,!1,!1)}se.Record=Li;function Mi(e){return Ee(e,!0,!1)}se.Partial=Mi;function Ai(e){return e.asPartial=t,e.asReadonly=r,e.pick=n,e.omit=o,e.extend=a,e;function t(){return Ee(e.fields,!0,e.isReadonly)}function r(){return Ee(e.fields,e.isPartial,!0)}function n(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var u={};return i.forEach(function(f){u[f]=e.fields[f]}),Ee(u,e.isPartial,e.isReadonly)}function o(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var u={},f=(0,te.enumerableKeysOf)(e.fields);return f.forEach(function(p){i.includes(p)||(u[p]=e.fields[p])}),Ee(u,e.isPartial,e.isReadonly)}function a(i){return Ee(Object.assign({},e.fields,i),e.isPartial,e.isReadonly)}}});var Er=A(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.Guard=Ue.Constraint=void 0;var ki=Y(),_r=K(),Ui=yt();function Fi(e,t,r){var n=r&&r.name,o=r&&r.args,a={tag:"constraint",underlying:e,constraint:t,name:n,args:o};return(0,ki.create)(function(i){var s=e.validate(i);if(!s.success)return s;var u=t(s.value);return typeof u=="string"?_r.FAILURE.CONSTRAINT_FAILED(a,u):u?(0,_r.SUCCESS)(s.value):_r.FAILURE.CONSTRAINT_FAILED(a)},a)}Ue.Constraint=Fi;var ji=function(e,t){return Ui.Unknown.withGuard(e,t)};Ue.Guard=ji});var Gn=A(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.Dictionary=void 0;var $n=Y(),wr=hr(),zi=Er(),qi=We(),Te=K(),Di=(0,zi.Constraint)(wr.String,function(e){return!isNaN(+e)},{name:"number"});function Bi(e,t){var r=t===void 0||t==="string"?wr.String:t==="number"?Di:t,n=(0,qi.default)(r),o={tag:"dictionary",key:n,value:e};return(0,$n.create)(function(a,i){if(a==null||typeof a!="object"||Object.getPrototypeOf(a)!==Object.prototype&&(!Array.isArray(a)||n==="string"))return Te.FAILURE.TYPE_INCORRECT(o,a);var s=/^(?:NaN|-?\d+(?:\.\d+)?)$/,u=(0,Te.enumerableKeysOf)(a),f=u.reduce(function(m,b){var R=typeof b=="string"&&s.test(b),L=R?globalThis.Number(b):b;return(R?!r.guard(L)&&!r.guard(b):!r.guard(L))?m[b]=Te.FAILURE.KEY_INCORRECT(o,r.reflect,L):m[b]=(0,$n.innerValidate)(e,a[b],i),m},{}),p=u.reduce(function(m,b){var R=f[b];return R.success||(m[b]=R.details||R.message),m},{});return(0,Te.enumerableKeysOf)(p).length!==0?Te.FAILURE.CONTENT_INCORRECT(o,p):(0,Te.SUCCESS)(a)},o)}Nt.Dictionary=Bi});var Xn=A(Fe=>{"use strict";var Hi=Fe&&Fe.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Intersect=void 0;var Wn=Y(),Vi=K();function Ki(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={tag:"intersect",intersectees:e};return(0,Wn.create)(function(n,o){var a,i;try{for(var s=Hi(e),u=s.next();!u.done;u=s.next()){var f=u.value,p=(0,Wn.innerValidate)(f,n,o);if(!p.success)return p}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return(0,Vi.SUCCESS)(n)},r)}Fe.Intersect=Ki});var Jn=A(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.Optional=void 0;var Yi=Y(),$i=K();function Gi(e){var t={tag:"optional",underlying:e};return(0,Yi.create)(function(r){return r===void 0?(0,$i.SUCCESS)(r):e.validate(r)},t)}It.Optional=Gi});var eo=A(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.Function=void 0;var Wi=Y(),Zn=K(),Qn={tag:"function"};Pt.Function=(0,Wi.create)(function(e){return typeof e=="function"?(0,Zn.SUCCESS)(e):Zn.FAILURE.TYPE_INCORRECT(Qn,e)},Qn)});var ro=A(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.InstanceOf=void 0;var Xi=Y(),to=K();function Ji(e){var t={tag:"instanceof",ctor:e};return(0,Xi.create)(function(r){return r instanceof e?(0,to.SUCCESS)(r):to.FAILURE.TYPE_INCORRECT(t,r)},t)}Lt.InstanceOf=Ji});var no=A(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.Lazy=void 0;var Zi=Y();function Qi(e){var t={get tag(){return n().tag}},r;function n(){if(!r){r=e();for(var o in r)o!=="tag"&&(t[o]=r[o])}return r}return(0,Zi.create)(function(o){return n().validate(o)},t)}Mt.Lazy=Qi});var oo=A(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.Brand=void 0;var es=Y();function ts(e,t){var r={tag:"brand",brand:e,entity:t};return(0,es.create)(function(n){return t.validate(n)},r)}At.Brand=ts});var ao=A(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.checked=je.check=void 0;var rs=Me(),ns=K(),Sr=new WeakMap;function os(e,t,r){var n=Sr.get(e)||new Map;Sr.set(e,n);var o=n.get(t)||[];n.set(t,o),o.push(r)}je.check=os;function as(e,t,r){var n=Sr.get(e),o=n&&n.get(t);if(o)return o;for(var a=[],i=0;i<r;i++)a.push(i);return a}function is(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===0)throw new Error("No runtype provided to `@checked`. Please remove the decorator.");return function(r,n,o){var a=o.value,i=(r.name||r.constructor.name+".prototype")+(typeof n=="string"?'["'.concat(n,'"]'):"[".concat(String(n),"]")),s=as(r,n,e.length);if(s.length!==e.length)throw new Error("Number of `@checked` runtypes and @check parameters not matched.");if(s.length>a.length)throw new Error("Number of `@checked` runtypes exceeds actual parameter length.");o.value=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return e.forEach(function(p,m){var b=s[m],R=p.validate(u[b]);if(!R.success){var L="".concat(i,", argument #").concat(b,": ").concat(R.message),P=ns.FAILURE.ARGUMENT_INCORRECT(L);throw new rs.ValidationError(P)}}),a.apply(this,u)}}}je.checked=is});var mt=A(O=>{"use strict";var ss=O&&O.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B=O&&O.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ss(t,e,r)};Object.defineProperty(O,"__esModule",{value:!0});O.InstanceOf=O.Nullish=O.Null=O.Undefined=O.Literal=void 0;B(cn(),O);B(ir(),O);B(un(),O);B(pn(),O);B(mn(),O);B(Me(),O);B(yt(),O);B(hn(),O);B(vn(),O);var kt=fr();Object.defineProperty(O,"Literal",{enumerable:!0,get:function(){return kt.Literal}});Object.defineProperty(O,"Undefined",{enumerable:!0,get:function(){return kt.Undefined}});Object.defineProperty(O,"Null",{enumerable:!0,get:function(){return kt.Null}});Object.defineProperty(O,"Nullish",{enumerable:!0,get:function(){return kt.Nullish}});B(Cn(),O);B(Rn(),O);B(In(),O);B(Mn(),O);B(hr(),O);B(zn(),O);B(Bn(),O);B(Vn(),O);B(Yn(),O);B(Gn(),O);B(lr(),O);B(Xn(),O);B(Jn(),O);B(eo(),O);var cs=ro();Object.defineProperty(O,"InstanceOf",{enumerable:!0,get:function(){return cs.InstanceOf}});B(no(),O);B(Er(),O);B(oo(),O);B(ao(),O)});var ba=Object.defineProperty,_a=Object.defineProperties,Ea=Object.getOwnPropertyDescriptors,Wr=Object.getOwnPropertySymbols,wa=Object.prototype.hasOwnProperty,Sa=Object.prototype.propertyIsEnumerable,Xr=(e,t,r)=>t in e?ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,st=(e,t)=>{for(var r in t||(t={}))wa.call(t,r)&&Xr(e,r,t[r]);if(Wr)for(var r of Wr(t))Sa.call(t,r)&&Xr(e,r,t[r]);return e},Jt=(e,t)=>_a(e,Ea(t)),Ca={},xa=["ref","dangerouslySetInnerHTML"],Ta=Symbol.for("FORGO_FRAGMENT"),Ra="http://www.w3.org/2000/svg",Oa=-1,rr=1,Zt=3,Qt=8,Ce={mount(e,t){e.__internal.eventListeners.mount.forEach(r=>r(t,e))},unmount(e,t){e.__internal.eventListeners.unmount.forEach(r=>r(t,e))},shouldUpdate(e,t,r){return e.__internal.eventListeners.shouldUpdate.length===0?!0:e.__internal.eventListeners.shouldUpdate.map(n=>n(t,r,e)).some(Boolean)},afterRender(e,t,r){e.__internal.eventListeners.afterRender.forEach(n=>n(t,r,e))}},z=class{constructor(e){this.__internal={registeredMethods:e,unmounted:!1,eventListeners:{afterRender:[],mount:[],unmount:[],shouldUpdate:[]},element:{componentIndex:Oa}}}update(e){return Pa(this.__internal.element,e)}mount(e){this.__internal.eventListeners.mount.push(e)}unmount(e){this.__internal.eventListeners.unmount.push(e)}shouldUpdate(e){this.__internal.eventListeners.shouldUpdate.push(e)}afterRender(e){this.__internal.eventListeners.afterRender.push(e)}};function l(e,t,...r){var n;t=t??{},t.children=r.length>1?Ke(Array.from(r)):r.length===1?Ke(r[0]):void 0;let o=(n=t.key)!=null?n:void 0;return{type:e,props:t,key:o,__is_forgo_element__:!0}}function Na(e,t){return r=>{if(e.__forgo===void 0||!e.__forgo.deleted)return t(r)}}function Ia(e){var t;let r=e;r.__internal=(t=r.__internal)!=null?t:{Text:r.window.Text,HTMLElement:r.window.HTMLElement};function n(d,c,y,C){if(Array.isArray(d)||or(d))return u(Ke(d),c,y,C);if(nr(d)){if(Ma(d))return a(d,c,y,C);{let h=i(d,c,y,C);return h.pendingMounts.forEach(S=>S()),h.pendingMounts.length=0,h}}else return o(d,c,y)}function o(d,c,y){var C;let h;d==null?h=r.document.createComment("null component render"):h=r.document.createTextNode(La(d));let S;if(c.type==="new-component"){let x=c.parentElement.childNodes;if(c.length){let g=x[c.currentNodeIndex];if(g.nodeType===Zt||g.nodeType===Qt)g.replaceWith(h),S=(C=ie(g))==null?void 0:C.components;else{let v=x[c.currentNodeIndex];c.parentElement.insertBefore(h,v)}}else if(x.length===0||c.currentNodeIndex===0)c.parentElement.prepend(h);else{let g=x[c.currentNodeIndex];c.parentElement.insertBefore(h,g)}}return N(d,h,!0,y),b(y,S),{nodes:[h],pendingMounts:[()=>R(y,S)]}}function a(d,c,y,C){if(c.type==="detached")return x(void 0,null);{let g=c.parentElement.childNodes;if(c.length){let v=L(d,c.parentElement,c.currentNodeIndex,c.length);if(v.found)return S(v.index,g,c)}return x(c.parentElement,g[c.currentNodeIndex])}function h(g){if(d.props.dangerouslySetInnerHTML)g.innerHTML=d.props.dangerouslySetInnerHTML.__html;else{let v=Ke([d.props.children]).filter(j=>j!=null),w=Array.from(g.childNodes).findIndex(j=>ie(j)),T=w===-1?0:w;for(let j of v){let{nodes:M}=n(j,{type:"new-component",parentElement:g,currentNodeIndex:T,length:g.childNodes.length-T},[],C);if(M.length){for(;g.childNodes[T]!==M[M.length-1];)T+=1;for(T+=1;T<g.childNodes.length&&!ie(g.childNodes[T]);)T+=1}}f(g.childNodes,T,g.childNodes.length)}}function S(g,v,w){var T;f(v,w.currentNodeIndex,g);let j=v[w.currentNodeIndex],M=(T=ie(j))==null?void 0:T.components;return N(d,j,!1,y),h(j),p(j,y),b(y,M),{nodes:[j],pendingMounts:[()=>R(y,M)]}}function x(g,v){let w=_(d,g);return g&&g.insertBefore(w,v),d.props.ref&&(d.props.ref.value=w),N(d,w,!0,y),h(w),b(y,void 0),{nodes:[w],pendingMounts:[()=>R(y,void 0)]}}}function i(d,c,y,C){function h(v,w,T){let j=w[v],M=er(j).components[g];if(f(w,T.currentNodeIndex,v),Ce.shouldUpdate(M.component,d.props,M.props)){let F=Jt(st({},M),{props:d.props}),re=F.component.__internal.registeredMethods.render(d.props,F.component),pe=y.concat(F),Wt=M.component.__internal.element.node,la=F.component.__internal.registeredMethods.error?F.component:void 0,ua=x(d.props,pe,la,()=>{let da={type:"new-component",currentNodeIndex:T.currentNodeIndex,length:F.nodes.length,parentElement:T.parentElement};return s(re,da,pe,F,C)});return Ce.afterRender(F.component,d.props,Wt),ua}else{let F=tr(T.parentElement.childNodes,M.component.__internal.element.node);return{nodes:it(T.parentElement.childNodes,F,F+M.nodes.length),pendingMounts:[]}}}function S(){let v=d.type,w=Ua(v,v(d.props));w.__internal.element.componentIndex=g;let T=w.__internal.registeredMethods.error?w:void 0,j={key:d.key,ctor:v,component:w,props:d.props,nodes:[],isMounted:!1},M=y.concat(j);return x(d.props,M,T,()=>{let F=w.__internal.registeredMethods.render(d.props,w),re=c.type==="detached"?c:{type:"new-component",currentNodeIndex:c.currentNodeIndex,length:C?c.length:0,parentElement:c.parentElement},pe=n(F,re,M,C);return j.nodes=pe.nodes,j.component.__internal.element.node=pe.nodes[0],Ce.afterRender(w,d.props,void 0),pe})}function x(v,w,T,j){try{return j()}catch(M){if(T!=null&&T.__internal.registeredMethods.error){let F=T.__internal.registeredMethods.error(v,M,T);return n(F,c,w,C)}else throw M}}let g=y.length;if(c.type!=="detached"&&c.length&&!C){let v=c.parentElement.childNodes,w=P(d,c.parentElement,c.currentNodeIndex,c.length,y.length);if(w.found)return h(w.index,v,c)}return S()}function s(d,c,y,C,h){let S=c.parentElement.childNodes.length,x=n(d,c,y,h),g=c.parentElement.childNodes.length,v=S+x.nodes.length-g,w=c.currentNodeIndex+x.nodes.length,T=f(c.parentElement.childNodes,w,w+C.nodes.length-v),j=x.nodes.length>0?y:[];for(let M of T){let F=ie(M);if(F){let re=m(j,F.components);F.components=F.components.slice(re)}}return C.nodes=x.nodes,C.component.__internal.element.node=x.nodes[0],x}function u(d,c,y,C){let h=Ke(d);if(c.type==="detached")throw new Error("Arrays and fragments cannot be rendered at the top level.");{let S={nodes:[],pendingMounts:[]},x=c.currentNodeIndex,g=c.length;for(let v of h){let w=c.parentElement.childNodes.length,T=Jt(st({},c),{currentNodeIndex:x,length:g}),j=n(v,T,y,C);S.nodes.push(...j.nodes),S.pendingMounts.push(...j.pendingMounts);let M=c.parentElement.childNodes.length,F=w+j.nodes.length-M;x+=j.nodes.length,g-=F}return S}}function f(d,c,y){let C=[],h=it(d,c,y);if(h.length){let S=h[0].parentElement,x=at(S);for(let g of h)ie(g)&&(g.remove(),C.push(g),x.push({node:g}))}return C}function p(d,c){let y=at(d);for(let{node:C}of y){let h=ie(C);if(h){h.deleted=!0;let S=h.components;b(c,S)}}Aa(d)}function m(d,c){let y=0;for(let C of d)if(c.length>y){if(c[y].component!==C.component)break;y++}else break;return y}function b(d,c){if(!c)return;let y=!1,C=m(d,c);for(let h=C;h<c.length;h++){let S=c[h],x=S.component;(y||S.nodes.every(g=>{if(g.isConnected){let v=er(g);return v.components[h]===void 0||v.components[h].component!==S.component}else return!0}))&&(x.__internal.unmounted||(x.__internal.unmounted=!0,Ce.unmount(x,S.props)),y=!0)}}function R(d,c){let y=c?m(d,c):0;for(let C=y;C<d.length;C++){let h=d[C];h.isMounted||(h.isMounted=!0,Ce.mount(h.component,h.props))}}function L(d,c,y,C){let h=c.childNodes;for(let S=y;S<y+C;S++){let x=h[S];if(en(x)){let g=ie(x);if(!g)continue;if(d.key!==void 0&&g?.key===d.key)return{found:!0,index:S};if(x.tagName.toLowerCase()===d.type&&(g===void 0||g.key===void 0))return{found:!0,index:S}}}if(d.key!==void 0){let S=at(c);for(let x=0;x<S.length;x++){let{node:g}=S[x],v=ie(g);if(v?.key===d.key){S.splice(x,1);let w=h[y];return Ve(w)?c.appendChild(g):c.insertBefore(g,w),{found:!0,index:y}}}}return{found:!1}}function P(d,c,y,C,h){let S=c.childNodes;for(let g=y;g<y+C;g++){let v=S[g],w=ie(v);if(w&&w.components.length>h){if(d.key!==void 0){if(w.components[h].ctor===d.type&&w.components[h].key===d.key)return{found:!0,index:g}}else if(w.components[h].ctor===d.type)return{found:!0,index:g}}}function x(g,v,w){let T=ie(g);return!!(T&&T.components.length>w&&T.components[w].ctor===v.type&&T.components[w].key===v.key)}if(d.key!==void 0){let g=at(c);for(let v=0;v<g.length;v++){let{node:w}=g[v];if(x(w,d,h)){let T=[w];for(let M=v+1;M<g.length;M++){let{node:F}=g[M];x(F,d,h)&&T.push(F)}g.splice(v,T.length);let j=S[y];if(Ve(j))for(let M of T)c.appendChild(M);else for(let M of T)c.insertBefore(M,j);return{found:!0,index:y}}}}return{found:!1}}function N(d,c,y,C){var h;if(C.length>0&&(C[C.length-1].component.__internal.element.node=c),nr(d)){let S=ie(c);if(S&&S.props)for(let v in S.props)v in d.props||v!=="children"&&v!=="xmlns"&&(c.nodeType===Zt||c.nodeType===Qt||c instanceof r.__internal.HTMLElement&&v in c?delete c[v]:c.removeAttribute(v));else if(!y&&en(c)&&c.hasAttributes()){let v=Array.from(c.attributes);for(let w of v){let T=w.name;T in d.props||c.removeAttribute(T)}}let x=Object.entries(d.props);for(let[v,w]of x)if(!xa.includes(v)&&((h=S?.props)==null?void 0:h[v])!==w&&v!=="children"&&v!=="xmlns")if(c.nodeType===Zt||c.nodeType===Qt)c[v]=w;else if(c instanceof r.__internal.HTMLElement)if(v==="style"){if(S===void 0||S.style===void 0||S.style!==d.props.style){let T=Fa(d.props.style);c.style.cssText!==T&&(c.style.cssText=T)}}else v==="onblur"?c[v]=Na(c,w):v in c?c[v]=w:c.setAttribute(v,w);else typeof w=="string"?c.setAttribute(v,w):c[v]=w;let g={key:d.key,props:d.props,components:C};Zr(c,g)}else Zr(c,{components:C})}function W(d,c){let y=Qr(c)?r.document.querySelector(c):c;if(Ve(y))throw new Error(`The mount() function was called on a non-element (${typeof c=="string"?c:c?.tagName}).`);if(y.nodeType!==rr)throw new Error("The container argument to the mount() function should be an HTML element.");let C=y.childNodes.length>0,h=n(d,{type:"new-component",currentNodeIndex:0,length:y.childNodes.length,parentElement:y},[],C);if(h.nodes.length<y.childNodes.length){let S=it(y.childNodes,h.nodes.length,y.childNodes.length);for(let x of S)x.remove()}return h}function I(d){let c=Qr(d)?r.document.querySelector(d):d;if(Ve(c))throw new Error(`The unmount() function was called on a non-element (${typeof d=="string"?d:d?.tagName}).`);if(c.nodeType!==rr)throw new Error("The container argument to the unmount() function should be an HTML element.");f(c.childNodes,0,c.childNodes.length),p(c,[])}function k(d){let c=n(d,{type:"detached"},[],!1);return{node:c.nodes[0],nodes:c.nodes}}function E(d,c){if(!(d!=null&&d.node))throw new Error("Missing node information in rerender() argument.");let y=d.node.parentElement;if(y!==null){let C=er(d.node),h=C.components[d.componentIndex],S=c??h.props;if(!Ce.shouldUpdate(h.component,S,h.props)){let F=tr(y.childNodes,d.node);return{nodes:it(y.childNodes,F,F+h.nodes.length),pendingMounts:[]}}let x=Jt(st({},h),{props:S}),g=C.components.slice(0,d.componentIndex),v=g.concat(x),w=h.component.__internal.element.node,T=h.component.__internal.registeredMethods.render(S,h.component),j={type:"new-component",currentNodeIndex:tr(y.childNodes,d.node),length:h.nodes.length,parentElement:y},M=s(T,j,v,x,!1);for(let F=0;F<g.length;F++){let re=g[F],pe=re.nodes.findIndex(Wt=>Wt===h.nodes[0]);re.nodes=re.nodes.slice(0,pe).concat(M.nodes).concat(re.nodes.slice(pe+h.nodes.length)),re.nodes.length>0&&(re.component.__internal.element.node=re.nodes[0])}return p(y,M.nodes.length>0?v:[]),Ce.afterRender(h.component,S,w),M}else return{nodes:[],pendingMounts:[]}}function _(d,c){let y=d.props.xmlns!==void 0?d.props.xmlns:d.type==="svg"?Ra:c?c.namespaceURI:null;return d.props.is!==void 0?y!==null?r.document.createElementNS(y,d.type,{is:d.props.is}):r.document.createElement(d.type,{is:d.props.is}):y!==null?r.document.createElementNS(y,d.type):r.document.createElement(d.type)}return{mount:W,unmount:I,render:k,rerender:E}}var Jr=globalThis!==void 0?globalThis:window,tn=Ia({window:Jr,document:Jr.document});function rn(e,t){return tn.mount(e,t)}function Pa(e,t){return tn.rerender(e,t)}function Ke(e){function t(r,n=[]){let o=Array.isArray(r)?r:or(r)?Array.isArray(r.props.children)?r.props.children:Ve(r.props.children)?[]:[r.props.children]:[r];for(let a of o)Array.isArray(a)||or(a)?t(a,n):n.push(a);return n}return t(e,[])}function La(e){return e.toString()}function nr(e){return e!=null&&e.__is_forgo_element__===!0}function Ma(e){return nr(e)&&typeof e.type=="string"}function or(e){return e!=null&&e.type===Ta}function ie(e){return e.__forgo}function er(e){if(e.__forgo)return e.__forgo;throw new Error("Missing forgo state on node.")}function Zr(e,t){e.__forgo=t}function at(e){return e.__forgo_deletedNodes||(e.__forgo_deletedNodes=[]),e.__forgo_deletedNodes}function Aa(e){e.__forgo_deletedNodes&&(e.__forgo_deletedNodes=[])}var ka=e=>{let t=o=>({get element(){return o.__internal.element},update(a){return o.update(a)}}),r={render(o,a){return e.render(o,t(a))}};e.error&&(r.error=(o,a)=>e.error(o,Object.assign(t(n),{error:a})));let n=new z(st({},r));return e.mount&&n.mount(o=>{e.mount(o,t(n))}),e.unmount&&n.unmount(o=>{e.unmount(o,t(n))}),e.afterRender&&n.afterRender((o,a)=>{e.afterRender(o,Object.assign(t(n),{previousNode:a}))}),e.shouldUpdate&&n.shouldUpdate((o,a)=>e.shouldUpdate(o,a)),n};function Ua(e,t){if(!(t instanceof z)&&Reflect.has(t,"render"))return ka(t);if(!(t instanceof z))throw new Error(`${e.name||"Unnamed"} component constructor must return an instance of the Component class`);return t}function Ve(e){return e==null}function Qr(e){return typeof e=="string"}function en(e){return e.nodeType===rr}function Fa(e){return typeof e=="string"?e:e==null?"":Object.keys(e).reduce((t,r)=>t+r.split(/(?=[A-Z])/).join("-").toLowerCase()+":"+e[r]+";","")}function it(e,t,r){return Array.from(e).slice(t,r)}function tr(e,t){return t?Array.from(e).indexOf(t):-1}(e=>e.JSX=Ca)(l||(l={}));var go=ge(lt(),1);var Ye=(e,t,r)=>r<e?t:r>t?e:r;var $e=class{_stack;_size;_index;get size(){return Array.from(this._stack.values()).filter(t=>t!==null).length}constructor(t){this._stack=new Map,this._size=t,this._index=0}peek(t){let r=this._size-1,n=Ye(0,r,Ye(0,r,this._index-1)+(t??0));return this._stack.get(n)??null}push(t){return this._stack.set(this._index,t),this._index=Ye(0,this._size-1,this._index+1),this}pop(){return this._index=Ye(0,this._size-1,this._index-1),this._stack.set(this._index,null),this}};var Ge=class{_subscribers;_state;_update(){return this._subscribers.forEach(t=>{t({current:this.current,previous:this.previous})}),this}get previous(){return this._state.peek(-1)}get current(){let t=this._state.peek();if(!t)throw new Error("Store does not have default value");return t}constructor(t,r){this._state=new $e(50),this._subscribers=new Set,this._state.push(t),r?.subscribers&&r.subscribers.forEach(n=>{n({current:this.current,previous:this.previous}),this._subscribers.add(n)})}undo(){return this.previous?(this._state.pop(),this._update()):this}set(t){return this._state.push(t(this.current)),this._update()}on(t){return this._subscribers.has(t)||this._subscribers.add(t),this}off(t){return this._subscribers.delete(t),this}};var on=ge(ut(),1),an=e=>(t,r)=>{let n=!1;return{state:(...o)=>{if(!n)throw new Error('Component did not call "subscribe()"');return t(e.current)(...o)},subscribe:(...o)=>a=>{n=!0;let i=s=>{if(r?.(s))return a.update();let u=t(s.current)(...o),f=t(s.previous)(...o);(0,on.default)(u,f)||a.update()};a.unmount(()=>e.off(i)),a.mount(()=>e.on(i))}}};var G=ge(mt(),1);var io=e=>Math.floor(Math.random()*e);var J=()=>{let e=Date.now().toString(36),t=io(65536);return`${e}${t}`};var q=ge(mt(),1),so=q.Record({id:q.String,title:q.String,colour:q.String}),co=q.Record({id:q.String,done:q.Boolean.optional(),title:q.String}),lo=q.Record({id:q.String,title:q.String,description:q.String.optional(),tasks:q.Array(q.String),categories:q.Array(q.String)}),uo=q.Record({id:q.String,title:q.String,cards:q.Array(q.String)}),fo=q.Record({id:q.String,title:q.String,lanes:q.Array(q.String)});var po=G.Record({entity:G.Record({board:G.Dictionary(fo,G.String),lane:G.Dictionary(uo,G.String),card:G.Dictionary(lo,G.String),task:G.Dictionary(co,G.String),category:G.Dictionary(so,G.String)}),active:G.Record({board:G.String.optional(),collapse:G.String.optional(),menu:G.String.optional()})}),Q={board:J(),lane:J(),card:J(),task:J(),category:J()},mo={entity:{category:{[Q.category]:{id:Q.category,title:"New category",colour:"#fff"}},task:{[Q.task]:{id:Q.task,title:"New task"}},card:{[Q.card]:{id:Q.card,title:"New card",tasks:[Q.task],categories:[Q.category]}},lane:{[Q.lane]:{id:Q.lane,title:"New lane",cards:[Q.card]}},board:{[Q.board]:{id:Q.board,title:"New board",lanes:[Q.lane]}}},active:{board:Q.board}};var Ut=ge(lt(),1),rt=class{_id;_schema;constructor(t,r){this._id=t,this._schema=r}parse(t){if(typeof t!="string")return null;try{return this._schema.check(JSON.parse(t))}catch(r){return console.error(r),null}}read(){let t=localStorage.getItem(this._id);return t!==null&&(t=(0,Ut.decompressFromUTF16)(t)),this.parse(t)}write(t){return localStorage.setItem(this._id,(0,Ut.compressToUTF16)(JSON.stringify(t))),this}};var Ft=new URLSearchParams(window.location.search).get("s");Ft!==null&&(Ft=(0,go.decompressFromEncodedURIComponent)(Ft));var Cr=new rt("state",po),xr=new Ge(Cr.parse(Ft)??Cr.read()??mo,{subscribers:[({previous:e,current:t})=>{typeof t.active.board=="string"&&(e?.active.board!==t.active.board||t.entity.board[t.active.board].title!==e.entity.board[e.active.board].title)&&(document.title=`${t.entity.board[t.active.board].title} | Pebble`)}]}).on(e=>Cr.write(e.current)).on(console.log);document.addEventListener("keydown",e=>{e.ctrlKey&&e.key==="z"&&xr.undo()});var H=xr,$=an(xr);var Tr=$(e=>()=>e?.active.board??null);var Eo=Symbol.for("immer-nothing"),yo=Symbol.for("immer-draftable"),oe=Symbol.for("immer-state");function ce(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ze=Object.getPrototypeOf;function qe(e){return!!e&&!!e[oe]}function Oe(e){return e?wo(e)||Array.isArray(e)||!!e[yo]||!!e.constructor?.[yo]||Bt(e)||Ht(e):!1}var ls=Object.prototype.constructor.toString();function wo(e){if(!e||typeof e!="object")return!1;let t=ze(e);if(t===null)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===ls}function jt(e,t){Dt(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Dt(e){let t=e[oe];return t?t.type_:Array.isArray(e)?1:Bt(e)?2:Ht(e)?3:0}function Nr(e,t){return Dt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function So(e,t,r){let n=Dt(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function us(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Bt(e){return e instanceof Map}function Ht(e){return e instanceof Set}function Re(e){return e.copy_||e.base_}function Ir(e,t){if(Bt(e))return new Map(e);if(Ht(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=wo(e);if(t===!0||t==="class_only"&&!r){let n=Object.getOwnPropertyDescriptors(e);delete n[oe];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){let i=o[a],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(ze(e),n)}else{let n=ze(e);if(n!==null&&r)return{...e};let o=Object.create(n);return Object.assign(o,e)}}function kr(e,t=!1){return Vt(e)||qe(e)||!Oe(e)||(Dt(e)>1&&(e.set=e.add=e.clear=e.delete=ds),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>kr(n,!0))),e}function ds(){ce(2)}function Vt(e){return Object.isFrozen(e)}var fs={};function Ne(e){let t=fs[e];return t||ce(0,e),t}var nt;function Co(){return nt}function ps(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ho(e,t){t&&(Ne("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pr(e){Lr(e),e.drafts_.forEach(ms),e.drafts_=null}function Lr(e){e===nt&&(nt=e.parent_)}function vo(e){return nt=ps(nt,e)}function ms(e){let t=e[oe];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bo(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return e!==void 0&&e!==r?(r[oe].modified_&&(Pr(t),ce(4)),Oe(e)&&(e=zt(t,e),t.parent_||qt(t,e)),t.patches_&&Ne("Patches").generateReplacementPatches_(r[oe].base_,e,t.patches_,t.inversePatches_)):e=zt(t,r,[]),Pr(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Eo?e:void 0}function zt(e,t,r){if(Vt(t))return t;let n=t[oe];if(!n)return jt(t,(o,a)=>_o(e,n,t,o,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return qt(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let o=n.copy_,a=o,i=!1;n.type_===3&&(a=new Set(o),o.clear(),i=!0),jt(a,(s,u)=>_o(e,n,o,s,u,r,i)),qt(e,o,!1),r&&e.patches_&&Ne("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function _o(e,t,r,n,o,a,i){if(qe(o)){let s=a&&t&&t.type_!==3&&!Nr(t.assigned_,n)?a.concat(n):void 0,u=zt(e,o,s);if(So(r,n,u),qe(u))e.canAutoFreeze_=!1;else return}else i&&r.add(o);if(Oe(o)&&!Vt(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zt(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&qt(e,o)}}function qt(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kr(t,r)}function gs(e,t){let r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Co(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},o=n,a=Ur;r&&(o=[n],a=ot);let{revoke:i,proxy:s}=Proxy.revocable(o,a);return n.draft_=s,n.revoke_=i,s}var Ur={get(e,t){if(t===oe)return e;let r=Re(e);if(!Nr(r,t))return ys(e,r,t);let n=r[t];return e.finalized_||!Oe(n)?n:n===Rr(e.base_,t)?(Or(e),e.copy_[t]=Ar(n,e)):n},has(e,t){return t in Re(e)},ownKeys(e){return Reflect.ownKeys(Re(e))},set(e,t,r){let n=xo(Re(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let o=Rr(Re(e),t),a=o?.[oe];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(us(r,o)&&(r!==void 0||Nr(e.base_,t)))return!0;Or(e),Mr(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Rr(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Or(e),Mr(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let r=Re(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ce(11)},getPrototypeOf(e){return ze(e.base_)},setPrototypeOf(){ce(12)}},ot={};jt(Ur,(e,t)=>{ot[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ot.deleteProperty=function(e,t){return ot.set.call(this,e,t,void 0)};ot.set=function(e,t,r){return Ur.set.call(this,e[0],t,r,e[0])};function Rr(e,t){let r=e[oe];return(r?Re(r):e)[t]}function ys(e,t,r){let n=xo(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function xo(e,t){if(!(t in e))return;let r=ze(e);for(;r;){let n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ze(r)}}function Mr(e){e.modified_||(e.modified_=!0,e.parent_&&Mr(e.parent_))}function Or(e){e.copy_||(e.copy_=Ir(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hs=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){let a=r;r=t;let i=this;return function(u=a,...f){return i.produce(u,p=>r.call(this,p,...f))}}typeof r!="function"&&ce(6),n!==void 0&&typeof n!="function"&&ce(7);let o;if(Oe(t)){let a=vo(this),i=Ar(t,void 0),s=!0;try{o=r(i),s=!1}finally{s?Pr(a):Lr(a)}return ho(a,n),bo(o,a)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===Eo&&(o=void 0),this.autoFreeze_&&kr(o,!0),n){let a=[],i=[];Ne("Patches").generateReplacementPatches_(t,o,a,i),n(a,i)}return o}else ce(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...s)=>this.produceWithPatches(i,u=>t(u,...s));let n,o;return[this.produce(t,r,(i,s)=>{n=i,o=s}),n,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Oe(e)||ce(8),qe(e)&&(e=vs(e));let t=vo(this),r=Ar(e,void 0);return r[oe].isManual_=!0,Lr(t),r}finishDraft(e,t){let r=e&&e[oe];(!r||!r.isManual_)&&ce(9);let{scope_:n}=r;return ho(n,t),bo(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));let n=Ne("Patches").applyPatches_;return qe(e)?n(e,t):this.produce(e,o=>n(o,t))}};function Ar(e,t){let r=Bt(e)?Ne("MapSet").proxyMap_(e,t):Ht(e)?Ne("MapSet").proxySet_(e,t):gs(e,t);return(t?t.scope_:Co()).drafts_.push(r),r}function vs(e){return qe(e)||ce(10,e),To(e)}function To(e){if(!Oe(e)||Vt(e))return e;let t=e[oe],r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ir(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ir(e,!0);return jt(r,(n,o)=>{So(r,n,To(o))}),t&&(t.finalized_=!1),r}var ae=new hs,V=ae.produce,fl=ae.produceWithPatches.bind(ae),pl=ae.setAutoFreeze.bind(ae),ml=ae.setUseStrictShallowCopy.bind(ae),gl=ae.applyPatches.bind(ae),yl=ae.createDraft.bind(ae),hl=ae.finishDraft.bind(ae);var Ro=e=>t=>{e.set(V(r=>{let n=J();r.entity.board[n]={id:n,title:t,lanes:[]},r.active.board=n}))},Oo=e=>t=>r=>{e.set(V(n=>{typeof r.title=="string"&&(n.entity.board[t].title=r.title.trim())}))},No=e=>t=>{e.set(V(r=>{delete r.entity.board[t];let n=Object.keys(r.entity.board);n.length>0?r.active.board=n[n.length-1]:delete r.active.board}))};var we=(e,t,r)=>Math.min(Math.max(r,e),t);var Io=e=>t=>r=>{e.set(V(n=>{let o=J();n.entity.card[o]={id:o,title:r,tasks:[],categories:[]},n.entity.lane[t].cards.push(o)}))},Po=e=>t=>r=>{e.set(V(n=>{typeof r.title=="string"&&(n.entity.card[t].title=r.title.trim()),typeof r.description=="string"&&(n.entity.card[t].description=r.description.trim())}))},Lo=e=>t=>{e.set(V(r=>{delete r.entity.card[t],Object.values(r.entity.lane).filter(n=>n.cards.includes(t)).forEach(n=>{let o=r.entity.lane[n.id].cards.indexOf(t);r.entity.lane[n.id].cards.splice(o,1)})}))},Mo=e=>t=>r=>e.set(V(n=>{n.entity.card[t].categories.includes(r)||n.entity.card[t].categories.push(r)})),Ao=e=>t=>r=>e.set(V(n=>{let o=n.entity.card[t].categories.indexOf(r);n.entity.card[t].categories.splice(o,1)})),ko=e=>t=>r=>e.set(V(n=>{if(!n.entity.card[t].categories.includes(r))n.entity.card[t].categories.push(r);else{let o=n.entity.card[t].categories.indexOf(r);n.entity.card[t].categories.splice(o,1)}})),Uo=e=>t=>r=>{e.set(V(n=>{let o=typeof t.lane=="string"?n.entity.lane[t.lane]:Object.values(n.entity.lane).find(a=>a.cards.includes(t.card));if(!o)delete n.entity.card[t.card];else{let a=o.cards.indexOf(t.card),i=typeof r.card=="string"?n.entity.lane[r.lane??o.id].cards.indexOf(r.card):a+(r.n??0);n.entity.lane[o.id].cards.splice(a,1),n.entity.lane[r.lane??o.id].cards.splice(we(0,n.entity.lane[r.lane??o.id].cards.length,i),0,t.card)}}))};var Fo=e=>t=>r=>{e.set(V(n=>{let o=J();n.entity.lane[o]={id:o,title:r,cards:[]},n.entity.board[t].lanes.push(o)}))},jo=e=>t=>r=>{e.set(V(n=>{typeof r.title=="string"&&(n.entity.lane[t].title=r.title.trim())}))},zo=e=>t=>{e.set(V(r=>{delete r.entity.lane[t],Object.values(r.entity.board).filter(n=>n.lanes.includes(t)).forEach(n=>{let o=r.entity.board[n.id].lanes.indexOf(t);r.entity.board[n.id].lanes.splice(o,1)})}))},qo=e=>t=>r=>{e.set(V(n=>{let o=typeof t.board=="string"?n.entity.board[t.board]:Object.values(n.entity.board).find(a=>a.lanes.includes(t.lane));if(!o)delete n.entity.lane[t.lane];else{let a=o.lanes.indexOf(t.lane);n.entity.board[o.id].lanes.splice(a,1),n.entity.board[o.id].lanes.splice(we(0,n.entity.board[o.id].lanes.length,a+r),0,t.lane)}}))};var Kt=e=>t=>r=>{e.set(V(n=>{typeof r=="string"?n.active[t]=r:delete n.active[t]}))};var Do=e=>t=>r=>{let n=J();e.set(V(o=>{o.entity.task[n]={id:n,title:r},o.entity.card[t].tasks.push(n)}))},Bo=e=>t=>r=>{e.set(V(n=>{typeof r.title=="string"&&(n.entity.task[t].title=r.title),typeof r.done=="boolean"&&(n.entity.task[t].done=r.done)}))},Ho=e=>t=>{e.set(V(r=>{delete r.entity.task[t],Object.values(r.entity.card).filter(n=>n.tasks.includes(t)).forEach(n=>{let o=r.entity.card[n.id].tasks.indexOf(t);r.entity.card[n.id].tasks.splice(o,1)})}))};var Vo=e=>t=>{e.set(V(r=>{let n=J();r.entity.category[n]={id:n,title:t.title,colour:t.colour??"#fff"},typeof t.card=="string"&&r.entity.card[t.card].categories.push(n)}))},Ko=e=>t=>r=>{e.set(V(n=>{typeof r.title=="string"&&(n.entity.category[t].title=r.title),typeof r.colour=="string"&&(n.entity.category[t].colour=r.colour)}))},Yo=e=>t=>{e.set(V(r=>{delete r.entity.category[t],Object.values(r.entity.card).filter(n=>n.categories.includes(t)).forEach(n=>{let o=r.entity.card[n.id].categories.indexOf(t);r.entity.card[n.id].categories.splice(o,1)})}))};var De={create:Ro(H),update:Oo(H),delete:No(H)},Ie={create:Fo(H),update:jo(H),delete:zo(H),move:qo(H)},X={create:Io(H),update:Po(H),delete:Lo(H),move:Uo(H),addCategory:Mo(H),removeCategory:Ao(H),toggleCategory:ko(H)},Be={create:Do(H),update:Bo(H),delete:Ho(H)},He={create:Vo(H),update:Ko(H),delete:Yo(H)},Yt={board:Kt(H)("board"),menu:Kt(H)("menu"),collapse:Kt(H)("collapse")};var xs=["insertText","deleteContent","deleteByCut","deleteContentBackward","deleteContentForward","historyUndo","historyRedo"],Ts={contenteditable:!0,onfocus:e=>{let t=e.currentTarget;if(t.childNodes.length===0)return;let r=document.createRange(),n=window.getSelection();r.setStart(t.childNodes[0],t.textContent?.length??0),r.collapse(!0),n?.removeAllRanges(),n?.addRange(r),t.focus()},onbeforeinput:e=>{if(!xs.includes(e.inputType)){e.preventDefault();return}},onkeydown:e=>{e.key==="Enter"&&(e.preventDefault(),e.currentTarget?.blur())},onkeyup:e=>{let t=e.currentTarget;t?.innerText.length===0&&(t.innerHTML="")},onpaste:e=>{e.preventDefault();let t=e.clipboardData?.getData("text");if(typeof t!="string")return;let r=window.getSelection();typeof r?.rangeCount!="number"||r.rangeCount==0||(r.deleteFromDocument(),r.getRangeAt(0).insertNode(document.createTextNode(t)),r.collapseToEnd())}},le=Ts;var Fr=$(e=>t=>e?.entity.card[t]??null);var jr={};ha(jr,{arrowDown:()=>As,arrowLeft:()=>ks,arrowRight:()=>Us,arrowUp:()=>Ms,arrowsUpDownLeftRight:()=>Ls,chevronDown:()=>Ps,chevronUp:()=>Is,circle:()=>Fs,circleDot:()=>qs,ellipsisVertical:()=>Bs,eyeDropper:()=>zs,gripVertical:()=>Ds,pen:()=>Os,plus:()=>Rs,rotateLeft:()=>Ks,share:()=>Hs,tag:()=>js,trash:()=>Vs,xmark:()=>Ns});var Rs={viewBox:"0 0 448 512",d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},Os={viewBox:"0 0 512 512",d:"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"},Ns={viewBox:"0 0 384 512",d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},Is={viewBox:"0 0 512 512",d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"},Ps={viewBox:"0 0 512 512",d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"},Ls={viewBox:"0 0 512 512",d:"M278.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l9.4-9.4L224 224l-114.7 0 9.4-9.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4L224 288l0 114.7-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-9.4 9.4L288 288l114.7 0-9.4 9.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l9.4 9.4L288 224l0-114.7 9.4 9.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-64-64z"},Ms={viewBox:"0 0 384 512",d:"M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"},As={viewBox:"0 0 384 512",d:"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},ks={viewBox:"0 0 448 512",d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},Us={viewBox:"0 0 448 512",d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},Fs={viewBox:"0 0 512 512",d:"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"},js={viewBox:"0 0 448 512",d:"M0 80L0 229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7L48 32C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"},zs={viewBox:"0 0 512 512",d:"M341.6 29.2L240.1 130.8l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4L482.8 170.4c39-39 39-102.2 0-141.1s-102.2-39-141.1 0zM55.4 323.3c-15 15-23.4 35.4-23.4 56.6l0 42.4L5.4 462.2c-8.5 12.7-6.8 29.6 4 40.4s27.7 12.5 40.4 4L89.7 480l42.4 0c21.2 0 41.6-8.4 56.6-23.4L309.4 335.9l-45.3-45.3L143.4 411.3c-3 3-7.1 4.7-11.3 4.7L96 416l0-36.1c0-4.2 1.7-8.3 4.7-11.3L221.4 247.9l-45.3-45.3L55.4 323.3z"},qs={viewBox:"0 0 512 512",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"},Ds={viewBox:"0 0 320 512",d:"M40 352l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zm192 0l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 320c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 192l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 160c-22.1 0-40-17.9-40-40L0 72C0 49.9 17.9 32 40 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40z"},Bs={viewBox:"0 0 128 512",d:"M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"},Hs={viewBox:"0 0 512 512",d:"M307 34.8c-11.5 5.1-19 16.6-19 29.2l0 64-112 0C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96l96 0 0 64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"},Vs={viewBox:"0 0 448 512",d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"},Ks={viewBox:"0 0 512 512",d:"M48.5 224L40 224c-13.3 0-24-10.7-24-24L16 72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L98.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L185 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8L48.5 224z"};var Ys=()=>new z({render(t){let r=jr[t.id];return l("svg",{class:"icon","aria-hidden":"true","data-icon":t.id,xmlns:"http://www.w3.org/2000/svg",viewBox:r.viewBox},l("path",{d:r.d}))}}),U=Ys;var zr=$(e=>t=>e?.entity.task[t]??null);var $s=e=>{let t=new z({render(r){let n=zr.state(r.id);return n?l("div",{id:n.id,class:"task","data-done":!!n.done,"aria-live":"polite"},l("button",{type:"button","data-action":"update"},n.done?l(U,{id:"circleDot"}):l(U,{id:"circle"}),l("span",{class:"sr-only"},n.done?"Mark task as incomplete":"Mark task as complete")),n.done?l("s",null,n.title):l("p",{...le,onblur:o=>{let a=o.target.innerText;a!==n.title&&Be.update(r.id)({title:a})}},n.title),l("button",{type:"button","data-action":"delete"},l(U,{id:"xmark"}),l("span",{class:"sr-only"},"Delete task"))):null}});return zr.subscribe(e.id)(t),t},$o=$s;var Gs=e=>t=>{let r=document.createElement("input");r.type=e,r.addEventListener("change",()=>t(r.value),{passive:!0}),r.click()},Go=Gs("color");var Wo=ge(ut(),1);var Pe=class e{_r;_g;_b;static fromHex(t){let r=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(o,a,i,s)=>[a,a,i,i,s,s].join("")),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(!n)throw new Error(`Invalid hex colour: ${t}`);return new e({r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)})}constructor(t){this._r=we(0,255,t.r),this._g=we(0,255,t.g),this._b=we(0,255,t.b)}luminance(){let t=[this._r,this._g,this._b].map(r=>{let n=r/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)});return t[0]*.2126+t[1]*.7152+t[2]*.0722}contrast(t){let r=this.luminance(),n=t.luminance();return 1-(Math.min(r,n)+.05)/(Math.max(r,n)+.05)}hex(){return`#${[this._r,this._g,this._b].map(r=>r.toString(16).padStart(2,"0")).join("")}`}};var qr=$(e=>t=>{if(!e?.entity.category[t])return null;let r=e.entity.category[t],n=Pe.fromHex(r.colour),o=Pe.fromHex("#000"),a=Pe.fromHex("#fff"),i=n.contrast(o)>n.contrast(a)?o.hex():a.hex();return{category:r,colour:{background:n.hex(),text:i}}},({previous:e,current:t})=>!(0,Wo.default)(e?.entity.category,t.entity.category));var Xs=e=>{let t=new z({render(r){let n=qr.state(r.id);return n?l("div",{id:r.id,class:"tag",style:[`--tag-bg: ${n.colour.background}`,`--tag-text: ${n.colour.text}`].join(";")},l("p",{...le,onblur:o=>{let a=o.target.innerText;a!==n.category.title&&He.update(r.id)({title:a})}},n.category.title),r.children):null}});return qr.subscribe(e.id)(t),t},$t=Xs;var Dr=$(e=>t=>Object.fromEntries(Object.keys(e?.entity.category??{}).map(r=>[r,e?.entity.card[t]?.categories.includes(r)])));var Xo=(...e)=>e.filter(t=>typeof t=="string").join(" ");var Br=$(e=>t=>e?.active.collapse===t);var Js=e=>{let t=new z({render(r){let n=Br.state(r.id);return l("div",{id:r.id,class:Xo("collapse",r.class,!n&&"hidden")},r.children)}});return Br.subscribe(e.id)(t),t},Gt=Js;var Zs=e=>{let t=new z({render(r){let n=Dr.state(r.card);return l(Gt,{id:r.id,class:"collapse-tags"},l("ul",{onclick:o=>{let a=o.target?.closest("button"),i=o.target?.closest("label"),s=(a??i)?.closest("li");i?.dataset.action==="toggle"&&s&&(X.toggleCategory(r.card)(s.id),o.stopPropagation()),a?.dataset.action==="update"&&s&&a.dataset.attribute==="colour"&&(Go(u=>He.update(s.id)({colour:u})),o.stopPropagation()),a?.dataset.action==="create"&&s&&(He.create({title:"New category"}),o.stopPropagation()),a?.dataset.action==="remove"&&s&&(He.delete(s.id),o.stopPropagation())}},Object.entries(n).map(([o,a])=>l("li",{id:o,key:o},l("label",{"data-action":"toggle"},l("span",{class:"sr-only"},"Toggle category"),l("input",{type:"checkbox",checked:a})),l($t,{id:o}),l("div",{class:"actions"},l("button",{type:"button","data-action":"update","data-attribute":"colour"},l(U,{id:"eyeDropper"}),l("span",{class:"sr-only"},"Change colour")),l("button",{type:"button","data-action":"remove"},l(U,{id:"xmark"}),l("span",{class:"sr-only"},"Remove category")))))),l("button",{type:"button","data-action":"create"},l(U,{id:"plus"}),l("span",null,"Create category")))}});return Dr.subscribe(e.card)(t),t},Jo=Zs;var Hr=$(e=>t=>e?.active.collapse===t);var Qs=e=>{let t=new z({render(r){let n=Hr.state(r.id);return l("button",{type:"button","aria-controls":r.id,"aria-expanded":n,onclick:()=>Yt.collapse(n?null:r.id)},r.children)}});return Hr.subscribe(e.id)(t),t},Vr=Qs;var ec=()=>new z({render(t){return l(Gt,{id:t.id,class:"collapse-actions"},l("ul",null,l("li",null,l("span",{class:"sr-only"},"Move"),l("ul",null,l("li",null,l("button",{type:"button","data-action":"move","data-direction":"up"},l(U,{id:"arrowUp"}),l("span",{class:"sr-only"},"Move up"))),l("li",null,l("button",{type:"button","data-action":"move","data-direction":"down"},l(U,{id:"arrowDown"}),l("span",{class:"sr-only"},"Move down"))),l("li",null,l("button",{type:"button","data-action":"move","data-direction":"left"},l(U,{id:"arrowLeft"}),l("span",{class:"sr-only"},"Move left"))),l("li",null,l("button",{type:"button","data-action":"move","data-direction":"right"},l(U,{id:"arrowRight"}),l("span",{class:"sr-only"},"Move right"))))),l("li",null,l("button",{type:"button","data-action":"delete"},l(U,{id:"trash"}),l("span",{class:"sr-only"},"Remove card")))))}}),Zo=ec;var tc=e=>{let t=new z({render(r){let n=Fr.state(r.id),o={tags:`${r.id}-tags`,actions:`${r.id}-actions`};return n?l("article",{id:n.id,class:"card"},l("header",null,l("button",{type:"button","data-action":"move","data-direction":"end"},l(U,{id:"circle"}),l("span",{class:"sr-only"},"Mark card as complete")),l("h4",{...le,onblur:a=>{let i=a.target.innerText;n.title!==i&&X.update(r.id)({title:i})}},n.title),l("div",{class:"actions"},l(Vr,{id:o.tags},l(U,{id:"tag"}),l("span",{class:"sr-only"},"Open tags collapse")),l(Vr,{id:o.actions},l(U,{id:"ellipsisVertical"}),l("span",{class:"sr-only"},"Open actions collapse"))),l("ul",{class:"tags",onclick:a=>{let i=a.target?.closest("button"),s=i?.closest(".tag");i?.dataset.action==="delete"&&s&&(X.removeCategory(n.id)(s.id),a.stopPropagation())}},n.categories.map(a=>l("li",{key:a},l($t,{id:a},l("button",{type:"button","data-action":"delete"},l(U,{id:"xmark"}),l("span",{class:"sr-only"},"Remove tag")))))),l(Jo,{id:o.tags,card:n.id}),l(Zo,{id:o.actions})),l("p",{...le,onblur:a=>{let i=a.target.innerText;n.description!==i&&X.update(r.id)({description:i})}},n.description),l("div",{class:"tasks",onclick:a=>{let i=a.target?.closest("button"),s=i?.closest(".task");i?.dataset.action==="create"&&(a.stopPropagation(),Be.create(n.id)("New task")),i?.dataset.action==="update"&&s&&(a.stopPropagation(),Be.update(s.id)({done:s.dataset.done!=="true"})),i?.dataset.action==="delete"&&s&&(a.stopPropagation(),Be.delete(s.id))}},l("ol",null,n.tasks.map(a=>l("li",{key:a},l($o,{id:a})))),l("button",{type:"button","data-action":"create"},l(U,{id:"plus"}),l("span",null,"Add task")))):null}});return Fr.subscribe(e.id)(t),t},Qo=tc;var Kr=$(e=>t=>e?.entity.lane[t]??null);var rc=e=>{let t=new z({render(r){let n=Kr.state(r.id);return n?l("article",{id:n.id,class:"lane","data-size":n.cards.length},l("header",null,l("hgroup",null,l("h3",{...le,onblur:o=>{let a=o.target.innerText;a!==n.title&&Ie.update(r.id)({title:a})}},n.title),l("span",{class:"badge"},n.cards.length)),l("div",{class:"actions"},l("button",{type:"button",onclick:()=>X.create(n.id)("New card")},l(U,{id:"plus"}),l("span",{class:"sr-only"},"Add card")),l("button",{type:"button",onclick:()=>Ie.move({lane:n.id})(-1)},l(U,{id:"arrowLeft"}),l("span",{class:"sr-only"},"Move left")),l("button",{type:"button",onclick:()=>Ie.move({lane:n.id})(1)},l(U,{id:"arrowRight"}),l("span",{class:"sr-only"},"Move right")),l("button",{type:"button","data-action":"delete"},l(U,{id:"trash"}),l("span",{class:"sr-only"},"Remove lane")))),l("ol",{onclick:o=>{let a=o.target?.closest("button"),i=a?.closest(".card");a?.dataset.action==="create"&&(o.stopPropagation(),X.create(n.id)("New card")),a?.dataset.action==="delete"&&i&&(o.stopPropagation(),X.delete(i.id))}},n.cards.map(o=>l("li",{key:o,draggable:!0,"data-grabbed":!1,"data-dropzone":!0},l(Qo,{id:o}))),l("li",{"data-dropzone":!0},l("button",{class:"default",type:"button","data-action":"create"},l(U,{id:"plus"}),"Add card")))):null}});return Kr.subscribe(e.id)(t),t},ea=rc;var Yr=$(e=>t=>e?.entity.board[t]??null);var nc=e=>{let t=new z({render(r){let n=Yr.state(r.id);return n?l("article",{class:"board",onclick:o=>{let a=o.target?.closest("button"),i=a?.closest(".card"),s=a?.closest(".lane");if(a?.dataset.action==="create"&&Ie.create(n.id)("New lane"),a?.dataset.action==="delete"&&s&&Ie.delete(s.id),a?.dataset.action==="move"&&s&&i){if(a.dataset.direction==="up"&&X.move({card:i.id,lane:s.id})({n:-1}),a.dataset.direction==="down"&&X.move({card:i.id,lane:s.id})({n:1}),a.dataset.direction==="left"){let u=n.lanes.indexOf(s.id);u>0&&X.move({card:i.id,lane:s.id})({lane:n.lanes[u-1]})}if(a.dataset.direction==="right"){let u=n.lanes.indexOf(s.id);u<n.lanes.length&&X.move({card:i.id,lane:s.id})({lane:n.lanes[u+1]})}a.dataset.direction==="end"&&X.move({card:i.id,lane:s.id})({lane:n.lanes[n.lanes.length-1]})}},ondragstart:o=>{let a=o.target;o.dataTransfer&&(o.dataTransfer.effectAllowed="move",o.dataTransfer.dropEffect="move",a.setAttribute("data-grabbed","true"))},ondragend:o=>{o.target.setAttribute("data-grabbed","false")},ondragover:o=>{o.preventDefault();let a=o.target.closest('[data-dropzone="true"]');o.dataTransfer&&(o.dataTransfer.dropEffect=a?"move":"none")},ondrop:o=>{if(o.target.closest('[data-dropzone="true"]')){o.preventDefault();let i={card:document.querySelector('[data-grabbed="true"] .card')?.id,lane:document.querySelector('[data-grabbed="true"] .lane')?.id},s={card:o.target.closest(".card")?.id,lane:o.target.closest(".lane")?.id};typeof i.card=="string"&&X.move({card:i.card,lane:i.lane})(s)}}},l("header",null,l("h2",{...le,onblur:o=>{let a=o.target.innerText;a!==n.title&&De.update(r.id)({title:a})}},n.title)),l("ol",null,n.lanes.map(o=>l("li",{key:o},l(ea,{id:o}))),l("li",null,l("button",{type:"button","data-action":"create"},l(U,{id:"plus"}),"Add lane")))):null}});return Yr.subscribe(e.id)(t),t},ta=nc;var aa=ge(lt(),1);var $r=$(e=>()=>e?.active.board);var oc=()=>{let e=new z({render(){let t=$r.state();return l("button",{type:"button",disabled:typeof t!="string",onclick:()=>{typeof t=="string"&&De.delete(t)}},l("span",{class:"sr-only"},"Remove active board"),l(U,{id:"trash"}))}});return $r.subscribe()(e),e},ra=oc;var na=ge(ut(),1);var Gr=$(e=>()=>({active:e?.active.board,boards:Object.values(e?.entity.board??{}).map(t=>({id:t.id,title:t.title}))}),({previous:e,current:t})=>e?.active!==t.active?!0:(0,na.default)(e?.entity.board,t.entity.board));var ac=()=>{let e=new z({render(t){let{active:r,boards:n}=Gr.state(),o=`board-${t.id}`;return l("div",{class:"select-board"},l("label",{for:o,class:"sr-only"},"Select board"),l("select",{id:o,disabled:n.length===0,onchange:a=>Yt.board(a.target.value)},n.length===0?l("option",{default:!0},"No boards available"):null,n.map(a=>l("option",{key:a.id,selected:a.id===r,value:a.id},a.title))))}});return Gr.subscribe()(e),e},oa=ac;var ic=()=>new z({render(){return l("header",null,l("div",null,l("svg",{"aria-hidden":"true",class:"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l("path",{fill:"none",d:"M0 0h24v24H0z"}),l("path",{class:"fg",d:"M11 21H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h6v18zm2 0h6c1.1 0 2-.9 2-2v-7h-8v9zm8-11V5c0-1.1-.9-2-2-2h-6v7h8z"})),l(oa,{id:"select-board"}),l("button",{type:"button",onclick:()=>De.create("New board")},l(U,{id:"plus"}),l("span",{class:"sr-only"},"Create board")),l(ra,null)),l("div",null,l("button",{type:"button",onclick:()=>H.undo()},l(U,{id:"rotateLeft"}),l("span",{class:"sr-only"},"Undo")),l("button",{type:"button",onclick:()=>{try{navigator.clipboard.writeText((0,aa.compressToEncodedURIComponent)(JSON.stringify(H.current)))}catch(t){console.error(t)}}},l(U,{id:"share"}))))}}),ia=ic;var sc=()=>{let e=new z({render(){let t=Tr.state();return[l(ia,null),typeof t=="string"?l("main",{class:"app"},l(ta,{id:t})):null]}});return Tr.subscribe()(e),e},sa=sc;var ca=()=>{let e=new Map;document.addEventListener("focusin",t=>{let r=t.target,n=r?.closest("[draggable]");r&&n&&(e.set(r,n),n.toggleAttribute("draggable",!1))},!1),document.addEventListener("focusout",t=>{let r=t.target;if(r){let n=e.get(r);e.delete(r),n?.setAttribute("draggable","true")}})};ca();rn(l(sa,null),document.body);})();
/**
 * @license Icons by Fonticons, Inc. (https://fontawesome.com/) are licensed under CC BY 4.0 License (https://creativecommons.org/licenses/by/4.0/) / "viewBox" and "d" taken from SVG icons.
 */
